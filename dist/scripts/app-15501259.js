!function(){"use strict";angular.module("shoppingListApp.products",["shoppingListApp.core"])}(),function(){"use strict";function t(){function t(t){return i.push(t),this}function o(t,o){var r=this.fetch(t);if(!r)throw new Error("Product not found");return angular.isUndefined(o)||!angular.isObject(o)?!1:(i[t]=angular.extend(r,o),!0)}function r(t){return this.fetch(t)?(i.splice(t,1),!0):!1}function n(){return i}function c(t){return i[t]}function s(t){var o=this.fetch(t);return o?o.price*o.quantity:void 0}function e(){return i.map(function(t){return t.price*t.quantity}).reduce(function(t,o){return t+o},0)}var i=[];return{add:t,update:o,remove:r,fetchAll:n,fetch:c,amount:s,amountTotal:e}}angular.module("shoppingListApp.products").factory("Products",[t])}(),function(){"use strict";function t(t){t.when("/",{redirectTo:"/products"}).when("/products",{controller:"ProductsListController as productsVm",templateUrl:"app/products/list.html"}).when("/products/add",{controller:"ProductsDetailsController as productVm",templateUrl:"app/products/details.html",resolve:{product:["$q",function(t){return t(function(t){t({})})}]}}).when("/products/:id",{controller:"ProductsDetailsController as productVm",templateUrl:"app/products/details.html",resolve:{product:["$q","$route","Products",function(t,o,r){return t(function(t,n){var c=r.fetch(o.current.params.id);c?t(c):n()})}]}})}angular.module("shoppingListApp.products").config(["$routeProvider",t])}(),function(){"use strict";function t(t,o){var r=this;r.products=o.fetchAll(),r.productsAmount=o.amountTotal(),r.remove=function(t){o.remove(t)},t.$watchCollection(function(){return r.products},function(){r.productsAmount=o.amountTotal()})}angular.module("shoppingListApp.products").controller("ProductsListController",["$scope","Products",t])}(),function(){"use strict";function t(t,o,r,n){var c=this;c.product=n,c.persisted=angular.isDefined(t.id),c.save=function(){c.persisted?r.update(t.id,c.product):r.add(c.product),o.url("/products")},c.persisted&&(c.remove=function(){r.remove(t.id),o.url("/products")})}angular.module("shoppingListApp.products").controller("ProductsDetailsController",["$routeParams","$location","Products","product",t])}(),function(){"use strict";angular.module("shoppingListApp.core",["ngAnimate","ngRoute","ui.bootstrap"])}(),function(){"use strict";function t(t){t.otherwise({redirectTo:"/"})}angular.module("shoppingListApp.core").config(["$routeProvider",t])}(),function(){"use strict";angular.module("shoppingListApp",["shoppingListApp.products"])}(),angular.module("shoppingListApp").run(["$templateCache",function(t){t.put("app/products/details.html",'<div class="row"><div class="col-md-10 col-md-offset-1"><div class="jumbotron"><p><a class="btn btn-primary btn-lg" href="#/products" role="button"><span class="glyphicon glyphicon-chevron-left"></span> Back to list</a></p></div><div class="panel panel-primary"><div class="panel-heading"><h3 class="panel-title">Panel title</h3></div><div class="panel-body"><form ng-submit="productVm.save()"><div class="row"><div class="col-md-4"><div class="form-group"><label for="product_name">Name</label> <input type="text" class="form-control" id="product_name" placeholder="Enter name" ng-model="productVm.product.name"></div></div><div class="col-md-4"><div class="form-group"><label for="product_quantity">Quantity</label> <input type="text" class="form-control" id="product_quantity" placeholder="Enter quantity" ng-model="productVm.product.quantity"></div></div><div class="col-md-4"><div class="form-group"><label for="product_price">Price</label><div class="input-group"><span class="input-group-addon" id="product-price-addon">$</span> <input type="text" class="form-control" id="product_price" placeholder="Enter price" aria-describedby="product-price-addon" ng-model="productVm.product.price"></div></div></div></div><div class="form-group"><button type="submit" class="btn btn-success" role="button"><span class="glyphicon glyphicon-ok"></span> Save</button> <a class="btn btn-warning" href="#/products" role="button"><span class="glyphicon glyphicon-remove"></span> Cancel</a> <a class="btn btn-danger" role="button" ng-show="productVm.persisted" ng-click="productVm.remove()"><span class="glyphicon glyphicon-minus"></span> Remove</a></div></form></div></div></div></div>'),t.put("app/products/list.html",'<div class="row"><div class="col-md-10 col-md-offset-1"><div class="jumbotron"><h2>Welcome to the Shopping List App.</h2><p><a class="btn btn-primary btn-lg" href="#/products/add" role="button"><span class="glyphicon glyphicon-plus"></span> Add product</a></p></div><table class="table table-bordered"><thead><th>Name</th><th>Price</th><th>Quantity</th><th></th></thead><tbody><tr ng-repeat="(id, product) in productsVm.products | filter:search"><td>{{ product.name }}</td><td>{{ product.price | currency }}</td><td>{{ product.quantity }}</td><td><a class="btn btn-info" ng-href="#/products/{{ id }}" role="button"><span class="glyphicon glyphicon-pencil"></span> Edit</a> <a class="btn btn-danger" role="button" ng-click="productsVm.remove(id)"><span class="glyphicon glyphicon-minus"></span> Remove</a></td></tr></tbody></table><h2>Total: {{ productsVm.productsAmount | currency }}</h2></div></div>')}]);